{"version":3,"sources":["Data/Games/GamesContext.tsx","utils/hooks/useAsyncEffect.js","Data/Auth/AuthContext.js","Pages/Auth/atoms.tsx","Pages/Auth/index.tsx","utils/router.guards.js","components/Layout/index.tsx","App.js","index.tsx","utils/api/api-client.ts"],"names":["GamesContext","React","createContext","games","removeGame","Promise","resolve","addGame","updateGame","mergeGame","GamesProvider","_ref","_ref$initialGames","initialGames","children","readyToFetch","_useState","useState","_useState2","Object","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","setGames","user","useContext","AuthContext","useAsyncEffect","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","_ref3","data","wrap","_context","prev","next","abrupt","ApiClient","get","concat","info","email","sent","t0","console","error","stop","this","_ref4","_callee2","gameId","_ref5","_context2","delete","params","filter","game","id","message","_x","apply","arguments","_ref6","_callee3","formData","_ref7","_context3","post","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","append","_x2","updatedGame","prevGames","find","map","_ref8","_callee4","_ref9","_context4","put","_x3","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","Provider","value","useCurrentGame","toString","__webpack_require__","d","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","asyncFunction","_len","length","otherParams","Array","_key","useEffect","auth0Client","WebAuth","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","clientID","process","domain","responseType","audience","redirectUri","scope","useAuthSession","cb","checkSession","prompt","generateRandomId","Math","round","random","maleAvatars","femaleAvatars","login","authorize","logout","returnTo","LOGIN_STATUS","NOT_ASKED","LOGGED_IN","LOGGED_OUT","TEMP_USER","AuthProvider","withRouter","_ref2","history","location","loginStatus","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","setUser","err","authData","parsedData","reject","parseHash","authResult","idTokenPayload","replace","t1","log","setTempUser","gender","name","picture","checkIsAdmin","Consumer","userToMatch","CenterContent","styled","div","_templateObject","AuthFormWrapper","Card","_templateObject2","AuthContainer","react_default","es_button","type","onClick","routeGuard","curry","predicate","ComponentSuccess","redirectPath","props","Redirect","to","pathname","state","from","forNotLogged","forLoggedOnly","Content","Layout","Footer","Sider","StyledLayout","Layout_templateObject","StyledContent","Layout_templateObject2","StyledFooter","_templateObject3","PageLayout","slicedToArray","collapsed","setCollapsedState","_useContext","_useContext$user","collapsible","onCollapse","menu","theme","defaultSelectedKeys","mode","Item","key","Link","icon","SubMenu","title","className","layout","GamesContainer","lazy","all","e","then","bind","BoardContainer","render","HashRouter","isUserLoggedIn","Layout_PageLayout","react","fallback","Route","exact","path","document","getElementById","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","prependUrl","url","envVar","endsWith","slice","startsWith","config","Axios"],"mappings":"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","file":"static/js/main.e93d8c37.chunk.js","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { message } from 'antd';\nimport { filter, append } from 'ramda';\nimport { useAsyncEffect } from '../../utils/hooks/useAsyncEffect';\nimport { AuthContext } from '../Auth/AuthContext';\nimport { ApiClient } from '../../utils/api/api-client';\n\nexport type Game = {\n  id: string;\n  user: string;\n  title: string;\n  description: string;\n  isCompleted: boolean;\n  storiesCount: number;\n};\n\ntype Props = {\n  initialGames: Game[];\n  readyToFetch: boolean;\n};\n\ntype GameContextType = {\n  games: Game[];\n  removeGame: (id: string) => Promise<void>;\n  addGame: (game: Partial<Game>) => Promise<void>;\n  updateGame: (game: Partial<Game>) => Promise<void>;\n  mergeGame: (game: Game) => void;\n};\n\nexport const GamesContext = React.createContext<GameContextType>({\n  games: [],\n  removeGame: () => Promise.resolve(),\n  addGame: () => Promise.resolve(),\n  updateGame: () => Promise.resolve(),\n  mergeGame: () => {},\n});\n\nexport const GamesProvider: React.SFC<Props> = ({\n  initialGames = [],\n  children,\n  readyToFetch,\n}) => {\n  const [games, setGames] = useState(initialGames);\n  const { user } = useContext(AuthContext);\n  useAsyncEffect(\n    async () => {\n      if (!readyToFetch) {\n        return;\n      }\n      try {\n        const { data } = await ApiClient.get<{ games: Game[] }>(\n          `/api/game/user/${user.info.email}`,\n        );\n        return setGames(data.games);\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    [readyToFetch],\n  );\n\n  const removeGame = async (gameId: string) => {\n    try {\n      const { data } = await ApiClient.delete<Game>(`/api/game/`, {\n        params: { gameId },\n      });\n      setGames(filter<Game>(game => game.id !== data.id));\n    } catch (error) {\n      message.error(error.message);\n    }\n  };\n\n  const addGame = async (formData: Partial<Game>) => {\n    try {\n      const { data } = await ApiClient.post<Partial<Game>, { game: Game }>(\n        '/api/game',\n        {\n          ...formData,\n          user: user.info.email,\n        },\n      );\n      setGames(append(data.game));\n    } catch (error) {\n      message.error(error.message);\n    }\n  };\n\n  const mergeGame = (updatedGame: Game) => {\n    setGames(prevGames => {\n      const isGamePresent = prevGames.find(game => game.id === updatedGame.id);\n      if (isGamePresent) {\n        return prevGames.map(game =>\n          game.id === updatedGame.id ? { ...game, ...updatedGame } : game,\n        );\n      } else {\n        return prevGames.concat(updatedGame);\n      }\n    });\n  };\n\n  const updateGame = async (formData: Partial<Game>) => {\n    const { data } = await ApiClient.put<Partial<Game>, { game: Game }>(\n      '/api/game',\n      formData,\n    );\n    mergeGame(data.game);\n  };\n\n  return (\n    <GamesContext.Provider\n      value={{ games, removeGame, addGame, mergeGame, updateGame }}\n    >\n      {children}\n    </GamesContext.Provider>\n  );\n};\n\nexport const useCurrentGame = (gameId: string) => {\n  const { games } = useContext(GamesContext);\n  const game = games.find(game => game.id.toString() === gameId);\n  return game;\n};\n","import { useEffect } from 'react';\nexport const useAsyncEffect = (asyncFunction, ...otherParams) =>\n    useEffect(() => {\n        asyncFunction();\n    }, ...otherParams);\n","import React, { useState, useEffect } from 'react';\n\nimport { WebAuth } from 'auth0-js';\nimport { withRouter } from 'react-router';\n\nconst properties = {\n    clientID: process.env.REACT_APP_AUTH_CLIENT_ID,\n    domain: process.env.REACT_APP_AUTH_DOMAIN,\n    responseType: 'token id_token',\n    audience: process.env.REACT_APP_AUTH_AUDIENCE,\n    redirectUri: process.env.REACT_APP_AUTH_REDIRECT_URL,\n    scope: 'openid profile email',\n};\n\nconst auth0Client = new WebAuth({ ...properties });\n\nconst useAuthSession = async cb => {\n    useEffect(() => {\n        auth0Client.checkSession({ prompt: 'none' }, cb);\n    }, []);\n};\n\nconst generateRandomId = () => Math.round(Math.random() * 11);\nconst maleAvatars = [1, 3, 5, 8, 10, 12, 13, 15, 17, 20, 22, 24];\nconst femaleAvatars = [2, 3, 6, 7, 8, 11, 14, 16, 18, 19, 21, 23];\n\nconst login = () => {\n    auth0Client.authorize();\n};\n\nconst logout = () => {\n    auth0Client.logout({\n        returnTo: process.env.REACT_APP_AUTH_REDIRECT_URL,\n    });\n};\n\nconst parseHash = () => {\n    return new Promise((resolve, reject) => {\n        auth0Client.parseHash((err, authResult) => {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(authResult);\n            }\n        });\n    });\n};\n\nexport const LOGIN_STATUS = {\n    NOT_ASKED: 'NOT_ASKED',\n    LOGGED_IN: 'LOGGED_IN',\n    LOGGED_OUT: 'LOGGED_OUT',\n    TEMP_USER: 'TEMP_USER',\n};\n\nexport const AuthContext = React.createContext();\nexport const AuthProvider = withRouter(function AuthProvider({ children, history, location }) {\n    const [user, setUser] = useState({ loginStatus: LOGIN_STATUS.NOT_ASKED, info: null });\n    // const [accessToken, setAccessToken] = useState(null);\n    // const [idToken, setIdToken] = useState(null);\n\n    useAuthSession(async (err, authData) => {\n        try {\n            const parsedData = err ? await parseHash() : authData;\n            // setAccessToken(parsedData.accessToken);\n            // setIdToken(parsedData.idToken);\n            if (parsedData) {\n                setUser({ loginStatus: LOGIN_STATUS.LOGGED_IN, info: parsedData.idTokenPayload });\n            } else {\n                setUser({ loginStatus: LOGIN_STATUS.LOGGED_OUT, info: null });\n            }\n            history.replace('/');\n        } catch (error) {\n            console.log(error);\n        }\n    });\n    const setTempUser = (login, gender) => {\n        setUser({\n            loginStatus: LOGIN_STATUS.TEMP_USER,\n            info: {\n                name: login,\n                email: login,\n                picture: gender === 'male' ? maleAvatars[generateRandomId()] : femaleAvatars[generateRandomId()],\n            },\n        });\n    };\n    return <AuthContext.Provider value={{ login, logout, user, setTempUser }}>{children}</AuthContext.Provider>;\n});\n\nexport const AuthConsumer = AuthContext.Consumer;\n\nexport const checkIsAdmin = (user, userToMatch) =>\n    user.loginStatus === LOGIN_STATUS.LOGGED_IN && userToMatch === user.info.email;\n","import styled from 'styled-components';\nimport { Card } from 'antd';\n\nconst CenterContent = styled.div`\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst AuthFormWrapper = styled(Card)`\n    max-width: 320px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nexport { CenterContent, AuthFormWrapper };\n","import React, { useContext } from 'react';\nimport { CenterContent, AuthFormWrapper } from './atoms';\nimport { Button } from 'antd';\nimport { AuthContext } from '../../Data/Auth/AuthContext';\n\nexport function AuthContainer() {\n    const { login } = useContext(AuthContext);\n    return (\n        <CenterContent>\n            <AuthFormWrapper>\n                <Button type=\"primary\" onClick={login}>\n                    Sign in\n                </Button>\n            </AuthFormWrapper>\n        </CenterContent>\n    );\n}\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport curry from 'ramda/src/curry';\n\nexport const routeGuard = curry((predicate, ComponentSuccess, redirectPath, user) => props =>\n    predicate(user, props) ? (\n        React.createElement(ComponentSuccess, props)\n    ) : (\n        <Redirect\n            to={{\n                pathname: redirectPath,\n                state: { from: props.location },\n            }}\n        />\n    ),\n);\n\nexport const forNotLogged = routeGuard(({ loginStatus }) => loginStatus !== 'LOGGED_IN');\nexport const forTempAndLogged = routeGuard(\n    ({ loginStatus }) => loginStatus === 'LOGGED_IN' || loginStatus === 'LOGGED_OUT',\n);\nexport const forLoggedOnly = routeGuard(({ loginStatus }) => loginStatus === 'LOGGED_IN');\n","import React, { useState, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Layout, Menu, Icon } from 'antd';\nimport styled from 'styled-components';\nimport { AuthContext, LOGIN_STATUS } from '../../Data/Auth/AuthContext';\n\nconst { Content, Footer, Sider } = Layout;\n\nconst StyledLayout = styled(Layout)`\n    min-height: 100vh !important;\n`;\nconst StyledContent = styled(Content)`\n    height: 100%;\n    padding: 1rem;\n    position: relative;\n`;\nconst StyledFooter = styled(Footer)`\n    text-align: center;\n`;\nexport const PageLayout: React.SFC<{}> = ({ children }) => {\n    const [collapsed, setCollapsedState] = useState(true);\n    const {\n        user: { loginStatus, info },\n        logout,\n        login,\n    } = useContext(AuthContext);\n\n    return (\n        <StyledLayout>\n            <Sider collapsible collapsed={collapsed} onCollapse={setCollapsedState}>\n                <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n                    <Menu.Item key=\"1\">\n                        <Link to=\"/\">\n                            <Icon type=\"home\" />\n                            <span>Main</span>\n                        </Link>\n                    </Menu.Item>\n                    {loginStatus === LOGIN_STATUS.LOGGED_IN ? (\n                        <Menu.SubMenu\n                            key=\"user-menu\"\n                            title={\n                                <span>\n                                    <Icon type=\"user\" />\n                                    <span className=\"nav-text\">{info.name}</span>\n                                </span>\n                            }\n                        >\n                            <Menu.Item key=\"user\" onClick={logout}>\n                                <Icon type=\"logout\" />\n                                <span className=\"nav-text\">Logout</span>\n                            </Menu.Item>\n                        </Menu.SubMenu>\n                    ) : (\n                        <Menu.Item key=\"sing-in\" onClick={login}>\n                            <Icon type=\"login\" />\n                            <span className=\"nav-text\">Login</span>\n                        </Menu.Item>\n                    )}\n                </Menu>\n            </Sider>\n            <Layout>\n                <StyledContent>{children}</StyledContent>\n                <StyledFooter>Planning Poker</StyledFooter>\n            </Layout>\n        </StyledLayout>\n    );\n};\n","import React, { useContext, Suspense } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport { AuthContainer } from './Pages/Auth';\nimport { forNotLogged, forLoggedOnly } from './utils/router.guards';\nimport { PageLayout } from './components/Layout';\n\nimport './app.css';\nimport { GamesProvider } from './Data/Games/GamesContext';\nimport { AuthContext, LOGIN_STATUS } from './Data/Auth/AuthContext';\n\n// Async Page Components\nconst GamesContainer = React.lazy(() => import('./Pages/Games'));\nconst BoardContainer = React.lazy(() => import('./Pages/Board'));\n\nexport default function App() {\n    const {\n        user: { loginStatus },\n    } = useContext(AuthContext);\n    const isUserLoggedIn = loginStatus === LOGIN_STATUS.LOGGED_IN;\n    return (\n        <PageLayout>\n            {loginStatus !== LOGIN_STATUS.NOT_ASKED ? (\n                <Suspense fallback={<div>loading ...</div>}>\n                    <GamesProvider readyToFetch={isUserLoggedIn}>\n                        <Route\n                            exact={true}\n                            path=\"/\"\n                            render={forLoggedOnly(GamesContainer, '/sign-in', { loginStatus })}\n                        />\n                        <Route path=\"/game/:user/:gameID\" render={props => <BoardContainer {...props} />} />\n                    </GamesProvider>\n                    <Route path=\"/sign-in\" render={forNotLogged(AuthContainer, '/', { loginStatus })} />\n                </Suspense>\n            ) : null}\n        </PageLayout>\n    );\n}\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport App from './App';\nimport { AuthProvider } from './Data/Auth/AuthContext';\nrender(\n    <Router>\n        <AuthProvider>\n            <App />\n        </AuthProvider>\n    </Router>,\n    document.getElementById('root'),\n);\n","import Axios, { AxiosRequestConfig, AxiosPromise } from 'axios';\nimport { pathOr } from 'ramda';\n/**\n * Get an absolute url to an api back-end\n * @param {string} url\n * @returns {string}\n */\nconst prependUrl = (url: string): string => {\n    const envVar: string = process.env.REACT_APP_API_ENDPOINT || '';\n    const baseUrl = envVar.endsWith('/') ? envVar.slice(-1) : envVar;\n    const path = url.startsWith('/') ? url : `/${url}`;\n    return baseUrl + path;\n};\nexport const ApiClient = {\n    get<T>(url: string, config?: AxiosRequestConfig) {\n        return Axios.get<T>(prependUrl(url), config);\n    },\n    post<T, K>(url: string, data: T, config?: AxiosRequestConfig) {\n        return Axios.post<K>(prependUrl(url), data, config);\n    },\n    put<T, K>(url: string, data: T, config?: AxiosRequestConfig) {\n        return Axios.put<K>(prependUrl(url), data, config);\n    },\n    delete<T>(url: string, config?: AxiosRequestConfig): AxiosPromise<T> {\n        return Axios.delete(prependUrl(url), config);\n    },\n};\n"],"sourceRoot":""}