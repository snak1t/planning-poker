{"version":3,"sources":["Data/Games/GamesContext.tsx","utils/hooks/useAsyncEffect.js","Data/Auth/AuthContext.js","Pages/Auth/atoms.jsx","Pages/Auth/index.jsx","utils/router.guards.js","components/Layout/index.tsx","App.js","index.tsx","utils/api-client.js"],"names":["GamesContext","React","createContext","games","removeGame","Promise","resolve","addGame","updateGame","GamesProvider","_ref","_ref$initialGames","initialGames","children","readyToFetch","_useState","useState","_useState2","Object","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","setGames","user","useContext","AuthContext","useAsyncEffect","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","a","mark","_callee","_ref3","data","wrap","_context","prev","next","abrupt","ApiClient","get","concat","info","email","sent","t0","console","error","stop","this","_ref4","_callee2","gameId","_ref5","_context2","delete","params","filter","game","id","message","_x","apply","arguments","_ref6","_callee3","formData","_ref7","_context3","post","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","append","_x2","react__WEBPACK_IMPORTED_MODULE_4___default","createElement","Provider","value","updatedGame","prevGames","find","map","useCurrentGame","toString","__webpack_require__","d","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","asyncFunction","_len","length","otherParams","Array","_key","useEffect","auth0Client","WebAuth","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","clientID","process","domain","responseType","audience","redirectUri","scope","useAuthSession","cb","checkSession","prompt","generateRandomId","Math","round","random","maleAvatars","femaleAvatars","login","authorize","logout","returnTo","LOGIN_STATUS","NOT_ASKED","LOGGED_IN","LOGGED_OUT","TEMP_USER","AuthProvider","withRouter","_ref2","history","location","loginStatus","_home_travis_build_snak1t_planning_poker_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","setUser","err","authData","parsedData","reject","parseHash","authResult","idTokenPayload","replace","pathname","t1","_x3","setTempUser","gender","name","picture","checkIsAdmin","Consumer","userToMatch","CenterContent","styled","div","_templateObject","AuthFormWrapper","Card","_templateObject2","AuthContainer","react_default","es_button","type","onClick","routeGuard","curry","predicate","ComponentSuccess","redirectPath","props","Redirect","to","state","from","forNotLogged","forLoggedOnly","Content","Layout","Footer","Sider","StyledLayout","Layout_templateObject","StyledContent","Layout_templateObject2","StyledFooter","_templateObject3","PageLayout","slicedToArray","collapsed","setCollapsedState","collapsible","onCollapse","className","menu","theme","defaultSelectedKeys","mode","Item","key","Link","icon","layout","GamesContainer","lazy","all","e","then","bind","BoardContainer","render","HashRouter","isUserLoggedIn","Layout_PageLayout","react","fallback","Route","exact","path","document","getElementById","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","prependUrl","url","endsWith","slice","startsWith","args","Axios","_len2","_key2","put","_len3","_key3","_len4","_key4"],"mappings":"2SA4BaA,EAAeC,IAAMC,cAA+B,CAC7DC,MAAO,GACPC,WAAY,kBAAMC,QAAQC,WAC1BC,QAAS,kBAAMF,QAAQC,WACvBE,WAAY,eAGHC,EAAkC,SAAAC,GAAmD,IAAAC,EAAAD,EAAhDE,oBAAgD,IAAAD,EAAjC,GAAiCA,EAA7BE,EAA6BH,EAA7BG,SAAUC,EAAmBJ,EAAnBI,aAAmBC,EACpEC,mBAASJ,GAD2DK,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACvFZ,EADuFc,EAAA,GAChFG,EADgFH,EAAA,GAEtFI,EAASC,qBAAWC,KAApBF,KACRG,YAAcN,OAAAO,EAAA,EAAAP,CAAAQ,EAAAC,EAAAC,KACV,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACSrB,EADT,CAAAmB,EAAAE,KAAA,eAAAF,EAAAG,OAAA,wBAAAH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAK+BE,IAAUC,IAAV,kBAAAC,OAAgClB,EAAKmB,KAAKC,QALzE,cAAAX,EAAAG,EAAAS,KAKgBX,EALhBD,EAKgBC,KALhBE,EAAAG,OAAA,SAMehB,EAASW,EAAK5B,QAN7B,QAAA8B,EAAAC,KAAA,GAAAD,EAAAU,GAAAV,EAAA,SAQQW,QAAQC,MAARZ,EAAAU,IARR,yBAAAV,EAAAa,SAAAjB,EAAAkB,KAAA,aAWA,CAACjC,IAGL,IAAMV,EAAU,eAAA4C,EAAA9B,OAAAO,EAAA,EAAAP,CAAAQ,EAAAC,EAAAC,KAAG,SAAAqB,EAAOC,GAAP,IAAAC,EAAApB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,cAAAiB,EAAAlB,KAAA,EAAAkB,EAAAjB,KAAA,EAE4BE,IAAUgB,OAAV,aAA+B,CAAEC,OAAQ,CAAEJ,YAFvE,OAAAC,EAAAC,EAAAV,KAEHX,EAFGoB,EAEHpB,KACRX,EAASmC,YAAa,SAAAC,GAAI,OAAIA,EAAKC,KAAO1B,EAAK0B,MAHpCL,EAAAjB,KAAA,gBAAAiB,EAAAlB,KAAA,EAAAkB,EAAAT,GAAAS,EAAA,SAKXM,IAAQb,MAAMO,EAAAT,GAAMe,SALT,yBAAAN,EAAAN,SAAAG,EAAAF,KAAA,YAAH,gBAAAY,GAAA,OAAAX,EAAAY,MAAAb,KAAAc,YAAA,GAQVtD,EAAO,eAAAuD,EAAA5C,OAAAO,EAAA,EAAAP,CAAAQ,EAAAC,EAAAC,KAAG,SAAAmC,EAAOC,GAAP,IAAAC,EAAAlC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAkC,GAAA,cAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,cAAA+B,EAAAhC,KAAA,EAAAgC,EAAA/B,KAAA,EAEeE,IAAU8B,KAAK,YAAfjD,OAAAkD,EAAA,EAAAlD,CAAA,GAAiC8C,EAAjC,CAA2C3C,KAAMA,EAAKmB,KAAKC,SAF1E,OAAAwB,EAAAC,EAAAxB,KAEAX,EAFAkC,EAEAlC,KACRX,EAASiD,YAAOtC,EAAKyB,OAHbU,EAAA/B,KAAA,gBAAA+B,EAAAhC,KAAA,EAAAgC,EAAAvB,GAAAuB,EAAA,SAKRR,IAAQb,MAAMqB,EAAAvB,GAAMe,SALZ,yBAAAQ,EAAApB,SAAAiB,EAAAhB,KAAA,YAAH,gBAAAuB,GAAA,OAAAR,EAAAF,MAAAb,KAAAc,YAAA,GAoBb,OAAOU,EAAA5C,EAAA6C,cAACxE,EAAayE,SAAd,CAAuBC,MAAO,CAAEvE,QAAOC,aAAYG,UAASC,WAXhD,SAACmE,GAChBvD,EAAS,SAAAwD,GAEL,OADsBA,EAAUC,KAAK,SAAArB,GAAI,OAAIA,EAAKC,KAAOkB,EAAYlB,KAE1DmB,EAAUE,IAAI,SAAAtB,GAAI,OAAKA,EAAKC,KAAOkB,EAAYlB,GAAxBvC,OAAAkD,EAAA,EAAAlD,CAAA,GAAkCsC,EAASmB,GAAgBnB,IAElFoB,EAAUrC,OAAOoC,QAK8C9D,IAGzEkE,EAAiB,SAAC7B,GAG3B,OAFkB5B,qBAAWtB,GAArBG,MACW0E,KAAK,SAAArB,GAAI,OAAIA,EAAKC,GAAGuB,aAAe9B,uCCtF3D+B,EAAAC,EAAAC,EAAA,sBAAA3D,IAAA,IAAA4D,EAAAH,EAAA,GACazD,EAAiB,SAAC6D,GAAD,QAAAC,EAAAzB,UAAA0B,OAAmBC,EAAnB,IAAAC,MAAAH,EAAA,EAAAA,EAAA,KAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAmBF,EAAnBE,EAAA,GAAA7B,UAAA6B,GAAA,OAC1BC,YAAS/B,WAAT,GAAU,WACNyB,MADJ9C,OAEMiD,2RCUJI,EAAc,IAAIC,IAAJ3E,OAAA4E,EAAA,EAAA5E,CAAA,GATD,CACf6E,SAAUC,mCACVC,OAAQD,oBACRE,aAAc,iBACdC,SAAUH,iDACVI,YAAaJ,0CACbK,MAAO,0BAKLC,EAAc,eAAA5F,EAAAQ,OAAAO,EAAA,EAAAP,CAAAQ,EAAAC,EAAAC,KAAG,SAAAC,EAAM0E,GAAN,OAAA7E,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACnBwD,oBAAU,WACNC,EAAYY,aAAa,CAAEC,OAAQ,QAAUF,IAC9C,IAHgB,wBAAAtE,EAAAa,SAAAjB,EAAAkB,SAAH,gBAAAY,GAAA,OAAAjD,EAAAkD,MAAAb,KAAAc,YAAA,GAMd6C,EAAmB,kBAAMC,KAAKC,MAAsB,GAAhBD,KAAKE,WACzCC,EAAc,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IACvDC,EAAgB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAExDC,EAAQ,WACVpB,EAAYqB,aAGVC,EAAS,WACXtB,EAAYsB,OAAO,CACfC,SAAUnB,6CAgBLoB,EAAe,CACxBC,UAAW,YACXC,UAAW,YACXC,WAAY,aACZC,UAAW,aAGFjG,EAActB,IAAMC,gBACpBuH,EAAeC,YAAW,SAAAC,GAAuD,IAA/B9G,EAA+B8G,EAA/B9G,SAAU+G,EAAqBD,EAArBC,QAASC,EAAYF,EAAZE,SAAY9G,EAClEC,mBAAS,CAAE8G,YAAaV,EAAaC,UAAW7E,KAAM,OADYvB,EAAAC,OAAA6G,EAAA,EAAA7G,CAAAH,EAAA,GACnFM,EADmFJ,EAAA,GAC7E+G,EAD6E/G,EAAA,GAK1FqF,EAAc,eAAAxE,EAAAZ,OAAAO,EAAA,EAAAP,CAAAQ,EAAAC,EAAAC,KAAC,SAAAqB,EAAOgF,EAAKC,GAAZ,IAAAC,EAAA,OAAAzG,EAAAC,EAAAK,KAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,UAAAiB,EAAAlB,KAAA,GAEY+F,EAFZ,CAAA7E,EAAAjB,KAAA,eAAAiB,EAAAjB,KAAA,EAxBR,IAAI9B,QAAQ,SAACC,EAAS8H,GACzBxC,EAAYyC,UAAU,SAACJ,EAAKK,GACpBL,EACAG,EAAOH,GAEP3H,EAAQgI,OAmBL,OAAAlF,EAAAT,GAAAS,EAAAV,KAAAU,EAAAjB,KAAA,eAAAiB,EAAAT,GAEsCuF,EAFtC,OAEDC,EAFC/E,EAAAT,GAMHqF,EADAG,EACQ,CAAEL,YAAaV,EAAaE,UAAW9E,KAAM2F,EAAWI,gBAExD,CAAET,YAAaV,EAAaG,WAAY/E,KAAM,OAE1DoF,EAAQY,QAAQX,EAASY,UAVlBrF,EAAAjB,KAAA,iBAAAiB,EAAAlB,KAAA,GAAAkB,EAAAsF,GAAAtF,EAAA,kCAAAA,EAAAN,SAAAG,EAAAF,KAAA,aAAD,gBAAAuB,EAAAqE,GAAA,OAAA7G,EAAA8B,MAAAb,KAAAc,YAAA,IAuBd,OAAOU,EAAA5C,EAAA6C,cAACjD,EAAYkD,SAAb,CAAsBC,MAAO,CAAEsC,QAAOE,SAAQ7F,OAAMuH,YAVvC,SAAC5B,EAAO6B,GACxBb,EAAQ,CACJF,YAAaV,EAAaI,UAC1BhF,KAAM,CACFsG,KAAM9B,EACNvE,MAAOuE,EACP+B,QAAoB,SAAXF,EAAoB/B,EAAYJ,KAAsBK,EAAcL,WAId7F,KAKlEmI,GAFezH,EAAY0H,SAEZ,SAAC5H,EAAM6H,GAAP,OACxB7H,EAAKyG,cAAgBV,EAAaE,WAAa4B,IAAgB7H,EAAKmB,KAAKC,uhBCvF7E,IAAM0G,EAAgBC,IAAOC,IAAVC,KAQbC,EAAkBH,YAAOI,IAAPJ,CAAHK,qBCNd,SAASC,IAAgB,IACpB1C,EAAU1F,qBAAWC,KAArByF,MACR,OACI2C,EAAAhI,EAAA6C,cAAC2E,EAAD,KACIQ,EAAAhI,EAAA6C,cAAC+E,EAAD,KACII,EAAAhI,EAAA6C,cAACoF,EAAA,EAAD,CAAQC,KAAK,UAAUC,QAAS9C,GAAhC,mCCNH+C,QAAaC,GAAM,SAACC,EAAWC,EAAkBC,EAAc9I,GAA5C,OAAqD,SAAA+I,GAAK,OACtFH,EAAU5I,EAAM+I,GACZnK,IAAMuE,cAAc0F,EAAkBE,GAEtCT,EAAAhI,EAAA6C,cAAC6F,EAAA,EAAD,CACIC,GAAI,CACA7B,SAAU0B,EACVI,MAAO,CAAEC,KAAMJ,EAAMvC,gBAMxB4C,EAAeV,EAAW,SAAArJ,GAAA,MAAqC,cAArCA,EAAGoH,cAI7B4C,GAHmBX,EAC5B,SAAApC,GAAA,IAAGG,EAAHH,EAAGG,YAAH,MAAqC,cAAhBA,GAA+C,eAAhBA,IAE3BiC,EAAW,SAAAjI,GAAA,MAAqC,cAArCA,EAAGgG,+YChBnC6C,EAA2BC,IAA3BD,QAASE,EAAkBD,IAAlBC,OAAQC,EAAUF,IAAVE,MAEnBC,EAAe3B,YAAOwB,IAAPxB,CAAH4B,KAGZC,EAAgB7B,YAAOuB,EAAPvB,CAAH8B,KAKbC,EAAe/B,YAAOyB,EAAPzB,CAAHgC,KAILC,EAA4B,SAAA3K,GAAkB,IAAfG,EAAeH,EAAfG,SAAeE,EAChBC,oBAAS,GADOC,EAAAC,OAAAoK,EAAA,EAAApK,CAAAH,EAAA,GAChDwK,EADgDtK,EAAA,GACrCuK,EADqCvK,EAAA,GAGvD,OACI0I,EAAAhI,EAAA6C,cAACuG,EAAD,KACIpB,EAAAhI,EAAA6C,cAACsG,EAAD,CAAOW,aAAW,EAACF,UAAWA,EAAWG,WAAYF,GACjD7B,EAAAhI,EAAA6C,cAAA,OAAKmH,UAAU,SACfhC,EAAAhI,EAAA6C,cAACoH,EAAA,EAAD,CAAMC,MAAM,OAAOC,oBAAqB,CAAC,KAAMC,KAAK,UAChDpC,EAAAhI,EAAA6C,cAACoH,EAAA,EAAKI,KAAN,CAAWC,IAAI,KACXtC,EAAAhI,EAAA6C,cAAC0H,EAAA,EAAD,CAAM5B,GAAG,KACLX,EAAAhI,EAAA6C,cAAC2H,EAAA,EAAD,CAAMtC,KAAK,SACXF,EAAAhI,EAAA6C,cAAA,wBAKhBmF,EAAAhI,EAAA6C,cAAC4H,EAAA,EAAD,KACIzC,EAAAhI,EAAA6C,cAACyG,EAAD,KAAgBpK,GAChB8I,EAAAhI,EAAA6C,cAAC2G,EAAD,mDCxBVkB,EAAiBpM,IAAMqM,KAAK,kBAAMjM,QAAAkM,IAAA,CAAAtH,EAAAuH,EAAA,GAAAvH,EAAAuH,EAAA,GAAAvH,EAAAuH,EAAA,KAAAC,KAAAxH,EAAAyH,KAAA,aAClCC,EAAiB1M,IAAMqM,KAAK,kBAAMjM,QAAAkM,IAAA,CAAAtH,EAAAuH,EAAA,GAAAvH,EAAAuH,EAAA,GAAAvH,EAAAuH,EAAA,KAAAC,KAAAxH,EAAAyH,KAAA,aCRxCE,iBACIjD,EAAAhI,EAAA6C,cAACqI,EAAA,EAAD,KACIlD,EAAAhI,EAAA6C,cAACjD,EAAA,EAAD,KACIoI,EAAAhI,EAAA6C,cDOG,WAAe,IAEdsD,EACRxG,qBAAWC,KADXF,KAAQyG,YAENgF,EAAiBhF,IAAgBV,IAAaE,UACpD,OACIqC,EAAAhI,EAAA6C,cAACuI,EAAD,KACKjF,IAAgBV,IAAaC,UAC1BsC,EAAAhI,EAAA6C,cAACwI,EAAA,SAAD,CAAUC,SAAUtD,EAAAhI,EAAA6C,cAAA,2BAChBmF,EAAAhI,EAAA6C,cAACxE,EAAA,EAAD,CAAec,aAAcgM,GACzBnD,EAAAhI,EAAA6C,cAAC0I,EAAA,EAAD,CACIC,OAAO,EACPC,KAAK,IACLR,OAAQlC,EAAc2B,EAAgB,WAAY,CAAEvE,kBAExD6B,EAAAhI,EAAA6C,cAAC0I,EAAA,EAAD,CAAOE,KAAK,sBAAsBR,OAAQ,SAAAxC,GAAK,OAAIT,EAAAhI,EAAA6C,cAACmI,EAAmBvC,OAE3ET,EAAAhI,EAAA6C,cAAC0I,EAAA,EAAD,CAAOE,KAAK,WAAWR,OAAQnC,EAAaf,EAAe,IAAK,CAAE5B,mBAEtE,OC1BJ,QAGRuF,SAASC,eAAe,0CCZ5BrI,EAAAC,EAAAC,EAAA,sBAAA9C,IAAA,IAAAkL,EAAAtI,EAAA,IAAAuI,EAAAvI,EAAAwI,EAAAF,GAMMG,EAAa,SAAAC,GAKf,OAJgB3H,iDAAmC4H,SAAS,KACtD5H,iDAAmC6H,OAAO,GAC1C7H,mDACO2H,EAAIG,WAAW,KAAOH,EAAtB,IAAApL,OAAgCoL,KAGpCtL,EAAY,CACrBC,IADqB,SACjBqL,GAAc,QAAArI,EAAAzB,UAAA0B,OAANwI,EAAM,IAAAtI,MAAAH,EAAA,EAAAA,EAAA,KAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAANqI,EAAMrI,EAAA,GAAA7B,UAAA6B,GACd,OAAOsI,IAAM1L,IAANsB,MAAAoK,IAAK,CAAKN,EAAWC,IAAhBpL,OAAyBwL,KAEzC5J,KAJqB,SAIhBwJ,GAAc,QAAAM,EAAApK,UAAA0B,OAANwI,EAAM,IAAAtI,MAAAwI,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANH,EAAMG,EAAA,GAAArK,UAAAqK,GACf,OAAOF,IAAM7J,KAANP,MAAAoK,IAAK,CAAMN,EAAWC,IAAjBpL,OAA0BwL,KAE1CI,IAPqB,SAOjBR,GAAc,QAAAS,EAAAvK,UAAA0B,OAANwI,EAAM,IAAAtI,MAAA2I,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANN,EAAMM,EAAA,GAAAxK,UAAAwK,GACd,OAAOL,IAAMG,IAANvK,MAAAoK,IAAK,CAAKN,EAAWC,IAAhBpL,OAAyBwL,KAEzC1K,OAVqB,SAUdsK,GAAc,QAAAW,EAAAzK,UAAA0B,OAANwI,EAAM,IAAAtI,MAAA6I,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAANR,EAAMQ,EAAA,GAAA1K,UAAA0K,GACjB,OAAOP,IAAM3K,OAANO,MAAAoK,IAAK,CAAQN,EAAWC,IAAnBpL,OAA4BwL","file":"static/js/main.59475d83.chunk.js","sourcesContent":["import React, { useState, useContext } from 'react';\nimport { message } from 'antd';\nimport { filter, append } from 'ramda';\nimport { useAsyncEffect } from '../../utils/hooks/useAsyncEffect';\nimport { AuthContext } from '../Auth/AuthContext';\nimport { ApiClient } from '../../utils/api-client';\n\nexport type Game = {\n    id: string;\n    user: string;\n    title: string;\n    description: string;\n    isCompleted: boolean;\n    storiesCount: number;\n};\n\ntype Props = {\n    initialGames: Game[];\n    readyToFetch: boolean;\n};\n\ntype GameContextType = {\n    games: Game[];\n    removeGame: (id: string) => Promise<void>;\n    addGame: (game: Game) => Promise<void>;\n    updateGame: (game: Game) => void;\n};\n\nexport const GamesContext = React.createContext<GameContextType>({\n    games: [],\n    removeGame: () => Promise.resolve(),\n    addGame: () => Promise.resolve(),\n    updateGame: () => {},\n});\n\nexport const GamesProvider: React.SFC<Props> = ({ initialGames = [], children, readyToFetch }) => {\n    const [games, setGames] = useState(initialGames);\n    const { user } = useContext(AuthContext);\n    useAsyncEffect(\n        async () => {\n            if (!readyToFetch) {\n                return;\n            }\n            try {\n                const { data } = await ApiClient.get(`/api/game/user/${user.info.email}`);\n                return setGames(data.games);\n            } catch (error) {\n                console.error(error);\n            }\n        },\n        [readyToFetch],\n    );\n\n    const removeGame = async (gameId: string) => {\n        try {\n            const { data }: { data: Game } = await ApiClient.delete(`/api/game/`, { params: { gameId } });\n            setGames(filter<Game>(game => game.id !== data.id));\n        } catch (error) {\n            message.error(error.message);\n        }\n    };\n    const addGame = async (formData: Game) => {\n        try {\n            const { data } = await ApiClient.post('/api/game', { ...formData, user: user.info.email });\n            setGames(append(data.game));\n        } catch (error) {\n            message.error(error.message);\n        }\n    };\n\n    const updateGame = (updatedGame: Game) => {\n        setGames(prevGames => {\n            const isGamePresent = prevGames.find(game => game.id === updatedGame.id);\n            if (isGamePresent) {\n                return prevGames.map(game => (game.id === updatedGame.id ? { ...game, ...updatedGame } : game));\n            } else {\n                return prevGames.concat(updatedGame);\n            }\n        });\n    };\n\n    return <GamesContext.Provider value={{ games, removeGame, addGame, updateGame }}>{children}</GamesContext.Provider>;\n};\n\nexport const useCurrentGame = (gameId: string) => {\n    const { games } = useContext(GamesContext);\n    const game = games.find(game => game.id.toString() === gameId);\n    return game;\n};\n","import { useEffect } from 'react';\nexport const useAsyncEffect = (asyncFunction, ...otherParams) =>\n    useEffect(() => {\n        asyncFunction();\n    }, ...otherParams);\n","import React, { useState, useEffect } from 'react';\n\nimport { WebAuth } from 'auth0-js';\nimport { withRouter } from 'react-router';\n\nconst properties = {\n    clientID: process.env.REACT_APP_AUTH_CLIENT_ID,\n    domain: process.env.REACT_APP_AUTH_DOMAIN,\n    responseType: 'token id_token',\n    audience: process.env.REACT_APP_AUTH_AUDIENCE,\n    redirectUri: process.env.REACT_APP_AUTH_REDIRECT_URL,\n    scope: 'openid profile email',\n};\n\nconst auth0Client = new WebAuth({ ...properties });\n\nconst useAuthSession = async cb => {\n    useEffect(() => {\n        auth0Client.checkSession({ prompt: 'none' }, cb);\n    }, []);\n};\n\nconst generateRandomId = () => Math.round(Math.random() * 11);\nconst maleAvatars = [1, 3, 5, 8, 10, 12, 13, 15, 17, 20, 22, 24];\nconst femaleAvatars = [2, 3, 6, 7, 8, 11, 14, 16, 18, 19, 21, 23];\n\nconst login = () => {\n    auth0Client.authorize();\n};\n\nconst logout = () => {\n    auth0Client.logout({\n        returnTo: process.env.REACT_APP_AUTH_REDIRECT_URL,\n    });\n};\n\nconst parseHash = () => {\n    return new Promise((resolve, reject) => {\n        auth0Client.parseHash((err, authResult) => {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(authResult);\n            }\n        });\n    });\n};\n\nexport const LOGIN_STATUS = {\n    NOT_ASKED: 'NOT_ASKED',\n    LOGGED_IN: 'LOGGED_IN',\n    LOGGED_OUT: 'LOGGED_OUT',\n    TEMP_USER: 'TEMP_USER',\n};\n\nexport const AuthContext = React.createContext();\nexport const AuthProvider = withRouter(function AuthProvider({ children, history, location }) {\n    const [user, setUser] = useState({ loginStatus: LOGIN_STATUS.NOT_ASKED, info: null });\n    // const [accessToken, setAccessToken] = useState(null);\n    // const [idToken, setIdToken] = useState(null);\n\n    useAuthSession(async (err, authData) => {\n        try {\n            const parsedData = err ? await parseHash() : authData;\n            // setAccessToken(parsedData.accessToken);\n            // setIdToken(parsedData.idToken);\n            if (parsedData) {\n                setUser({ loginStatus: LOGIN_STATUS.LOGGED_IN, info: parsedData.idTokenPayload });\n            } else {\n                setUser({ loginStatus: LOGIN_STATUS.LOGGED_OUT, info: null });\n            }\n            history.replace(location.pathname);\n        } catch (error) {}\n    });\n    const setTempUser = (login, gender) => {\n        setUser({\n            loginStatus: LOGIN_STATUS.TEMP_USER,\n            info: {\n                name: login,\n                email: login,\n                picture: gender === 'male' ? maleAvatars[generateRandomId()] : femaleAvatars[generateRandomId()],\n            },\n        });\n    };\n    return <AuthContext.Provider value={{ login, logout, user, setTempUser }}>{children}</AuthContext.Provider>;\n});\n\nexport const AuthConsumer = AuthContext.Consumer;\n\nexport const checkIsAdmin = (user, userToMatch) =>\n    user.loginStatus === LOGIN_STATUS.LOGGED_IN && userToMatch === user.info.email;\n","import styled from 'styled-components';\nimport { Card } from 'antd';\n\nconst CenterContent = styled.div`\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst AuthFormWrapper = styled(Card)`\n    max-width: 320px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nexport { CenterContent, AuthFormWrapper };\n","import React, { useContext } from 'react';\nimport { CenterContent, AuthFormWrapper } from './atoms';\nimport { Button } from 'antd';\nimport { AuthContext } from '../../Data/Auth/AuthContext';\n\nexport function AuthContainer() {\n    const { login } = useContext(AuthContext);\n    return (\n        <CenterContent>\n            <AuthFormWrapper>\n                <Button type=\"primary\" onClick={login}>\n                    Sign in\n                </Button>\n            </AuthFormWrapper>\n        </CenterContent>\n    );\n}\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport curry from 'ramda/src/curry';\n\nexport const routeGuard = curry((predicate, ComponentSuccess, redirectPath, user) => props =>\n    predicate(user, props) ? (\n        React.createElement(ComponentSuccess, props)\n    ) : (\n        <Redirect\n            to={{\n                pathname: redirectPath,\n                state: { from: props.location },\n            }}\n        />\n    ),\n);\n\nexport const forNotLogged = routeGuard(({ loginStatus }) => loginStatus !== 'LOGGED_IN');\nexport const forTempAndLogged = routeGuard(\n    ({ loginStatus }) => loginStatus === 'LOGGED_IN' || loginStatus === 'LOGGED_OUT',\n);\nexport const forLoggedOnly = routeGuard(({ loginStatus }) => loginStatus === 'LOGGED_IN');\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Layout, Menu, Icon } from 'antd';\nimport styled from 'styled-components';\n\nconst { Content, Footer, Sider } = Layout;\n\nconst StyledLayout = styled(Layout)`\n    min-height: 100vh !important;\n`;\nconst StyledContent = styled(Content)`\n    height: 100%;\n    padding: 1rem;\n    position: relative;\n`;\nconst StyledFooter = styled(Footer)`\n    text-align: center;\n`;\n\nexport const PageLayout: React.SFC<{}> = ({ children }) => {\n    const [collapsed, setCollapsedState] = useState(true);\n\n    return (\n        <StyledLayout>\n            <Sider collapsible collapsed={collapsed} onCollapse={setCollapsedState}>\n                <div className=\"logo\" />\n                <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\n                    <Menu.Item key=\"1\">\n                        <Link to=\"/\">\n                            <Icon type=\"home\" />\n                            <span>Main</span>\n                        </Link>\n                    </Menu.Item>\n                </Menu>\n            </Sider>\n            <Layout>\n                <StyledContent>{children}</StyledContent>\n                <StyledFooter>Planning Poker</StyledFooter>\n            </Layout>\n        </StyledLayout>\n    );\n};\n","import React, { useContext, Suspense } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport { AuthContainer } from './Pages/Auth';\nimport { forNotLogged, forLoggedOnly } from './utils/router.guards';\nimport { PageLayout } from './components/Layout';\n\nimport './app.css';\nimport './default.css';\nimport { GamesProvider } from './Data/Games/GamesContext';\nimport { AuthContext, LOGIN_STATUS } from './Data/Auth/AuthContext';\n\n// Async Page Components\nconst GamesContainer = React.lazy(() => import('./Pages/Games'));\nconst BoardContainer = React.lazy(() => import('./Pages/Board'));\n\nexport default function App() {\n    const {\n        user: { loginStatus },\n    } = useContext(AuthContext);\n    const isUserLoggedIn = loginStatus === LOGIN_STATUS.LOGGED_IN;\n    return (\n        <PageLayout>\n            {loginStatus !== LOGIN_STATUS.NOT_ASKED ? (\n                <Suspense fallback={<div>loading ...</div>}>\n                    <GamesProvider readyToFetch={isUserLoggedIn}>\n                        <Route\n                            exact={true}\n                            path=\"/\"\n                            render={forLoggedOnly(GamesContainer, '/sign-in', { loginStatus })}\n                        />\n                        <Route path=\"/game/:user/:gameID\" render={props => <BoardContainer {...props} />} />\n                    </GamesProvider>\n                    <Route path=\"/sign-in\" render={forNotLogged(AuthContainer, '/', { loginStatus })} />\n                </Suspense>\n            ) : null}\n        </PageLayout>\n    );\n}\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport App from './App';\nimport { AuthProvider } from './Data/Auth/AuthContext';\nrender(\n    <Router>\n        <AuthProvider>\n            <App />\n        </AuthProvider>\n    </Router>,\n    document.getElementById('root'),\n);\n","import Axios from 'axios';\n/**\n * Get an absolute url to an api back-end\n * @param {string} url\n * @returns {string}\n */\nconst prependUrl = url => {\n    const baseUrl = process.env.REACT_APP_API_ENDPOINT.endsWith('/')\n        ? process.env.REACT_APP_API_ENDPOINT.slice(-1)\n        : process.env.REACT_APP_API_ENDPOINT;\n    const path = url.startsWith('/') ? url : `/${url}`;\n    return baseUrl + path;\n};\nexport const ApiClient = {\n    get(url, ...args) {\n        return Axios.get(prependUrl(url), ...args);\n    },\n    post(url, ...args) {\n        return Axios.post(prependUrl(url), ...args);\n    },\n    put(url, ...args) {\n        return Axios.put(prependUrl(url), ...args);\n    },\n    delete(url, ...args) {\n        return Axios.delete(prependUrl(url), ...args);\n    },\n};\n"],"sourceRoot":""}