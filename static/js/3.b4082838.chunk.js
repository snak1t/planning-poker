(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{278:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(45),a=n(1),c=function(e){var t=Object(a.useState)(e),n=Object(r.a)(t,2),c=n[0],o=n[1];return[c,function(e){var t=e?e.target.value:"";o(t)}]}},326:function(e,t,n){},525:function(e,t){},582:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(45),o=n(38),i=n(39);function u(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    padding: 0.6rem 1rem;\n"]);return u=function(){return e},e}function l(){var e=Object(o.a)(["\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    font-size: 2rem;\n    & span.fa {\n        font-size: 1rem;\n    }\n    & > span.userName {\n        font-size: 1rem;\n    }\n"]);return l=function(){return e},e}function s(){var e=Object(o.a)(["\n    text-align: right;\n    line-height: 2rem;\n    font-size: 1.3rem;\n"]);return s=function(){return e},e}function m(){var e=Object(o.a)(["\n    font-size: 1.3rem;\n    line-height: 2rem;\n"]);return m=function(){return e},e}function f(){var e=Object(o.a)(["\n    border: 1px solid #e8e8e8;\n    box-sizing: border-box;\n    margin: 0 0.2rem !important;\n    padding-top: 125%;\n    box-shadow: ",";\n    transform: translateY(",");\n    cursor: pointer;\n    background-color: #fff;\n    position: relative;\n"]);return f=function(){return e},e}function d(){var e=Object(o.a)(["\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    grid-gap: 0.6rem;\n    background-color: #fff;\n    padding: 0.6rem;\n"]);return d=function(){return e},e}var p=i.a.div(d()),v=Object(i.a)("div")(f(),function(e){return e.cardPicked?"0px 4px 12px rgba(25, 88, 203, 0.27)":""},function(e){return e.cardPicked?"-2rem":0}),y=i.a.div(m()),g=i.a.div(s()),b=i.a.div(l()),h=i.a.div(u()),E=n(23),O=n(59),j=n(502),x=n.n(j)()("https://snaks-planning-poker-api.herokuapp.com"),S=function(e){return Object(r.useEffect)(function(){for(var t=Object.entries(e),n=0;n<t.length;n++){var r=t[n],a=Object(c.a)(r,2),o=a[0],i=a[1];x.on(o,i)}return function(){for(var t=Object.entries(e),n=0;n<t.length;n++){var r=t[n],a=Object(c.a)(r,2),o=a[0],i=a[1];x.removeEventListener(o,i)}}},[]),function(e,t){x.emit(e,t)}},C={players:[],isPlaying:!1,isRevealing:!1,currentStory:null},k=r.createContext(Object(O.a)({},C,{isCompleted:!1,actions:{enterRoom:function(){},leaveRoom:function(){},setStory:function(){},startPlayRound:function(){},showPlayedCards:function(){},setPlayerScore:function(){}}})),w=function(e){return e.map(function(e){return Object(O.a)({},e,{score:null})})},P=function(e){var t=e.children,n=e.gameId,a=e.isAdmin,o=r.useState(C),i=Object(c.a)(o,2),u=i[0],l=i[1],s=S({"self-append-user":function(e){var t=e.newPlayer;l(function(e){var n=e.players.map(function(e){return e.id.startsWith("temp__")&&e.info.login===t.info.login?t:e});return Object(O.a)({},e,{players:n})})},"append-user":function(e){var t=e.newPlayer;l(function(e){var n=e.players.concat(t);return a&&m({players:n}),Object(O.a)({},e,{players:n})})},"apply-play-room-patch":function(e){var t=e.patch;l(function(e){return Object(O.a)({},e,t)})},"user-left":function(e){var t=e.userId;l(function(e){return Object(O.a)({},e,{players:e.players.filter(function(e){return e.id!==t})})})}}),m=function(e){return s("emit-play-room-patch",{gameId:n,patch:e}),e},f=function(e){l(function(t){return Object(O.a)({},t,m(e(t)))})},d=u.players.every(function(e){return null!==e.score});return r.createElement(k.Provider,{value:Object(O.a)({},u,{isCompleted:d,actions:{enterRoom:function(e){var t=Object(O.a)({},e,{score:null,id:"temp__".concat(100*Math.random())});l(function(e){return Object(O.a)({},e,{players:e.players.concat(t)})}),s("enter-room",{gameId:n,newPlayer:t})},setStory:function(e){f(function(t){return{isPlaying:!1,isRevealing:!1,currentStory:e,players:w(t.players)}})},startPlayRound:function(){f(function(e){return{isPlaying:!0,isRevealing:!1,players:w(e.players)}})},showPlayedCards:function(){f(function(){return{isPlaying:!1,isRevealing:!0}})},setPlayerScore:function(e){f(function(t){return{players:t.players.map(function(t){return t.info.login===e.info.login?e:t})}})},leaveRoom:function(){s("leave-room",{gameId:n})}}})},t)},R=[{value:1},{value:2},{value:3},{value:5},{value:8},{value:13},{value:21},{value:34},{value:55},{value:89},{value:"question"},{value:"\u221e"},{value:"coffee"}],I={coffee:100,question:200,"\u221e":300},M=function(e,t){return null===e?-1:null===t?1:function(e,t){return Math.max(Math.min(1,e-t),-1)}("number"===typeof e?e:I[e],"number"===typeof t?t:I[t])},z=function(e){var t=e.value,n=e.onClick,a=void 0===n?function(){}:n,c=e.cardPicked,o="string"===typeof t?/^\w/.test(t)?r.createElement("span",{className:"fa fa-".concat(t)}):t:null===t?"":t.toString();return r.createElement(v,{onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return a(t)}),cardPicked:c},r.createElement(h,null,r.createElement(y,null,o),r.createElement(b,null,r.createElement("span",null,o)),r.createElement(g,null,o)))};function A(){var e=Object(r.useContext)(E.a).user,t=Object(r.useContext)(k).actions,n=Object(r.useState)(null),o=Object(c.a)(n,2),i=o[0],u=o[1],l=function(n){u(n),t.setPlayerScore({info:{login:e.info.name,picture:e.info.picture},score:n,id:"temp__".concat(100*Math.random())})};return a.a.createElement(p,null,R.map(function(e,t){return a.a.createElement(z,Object.assign({key:"card".concat(t),cardPicked:e.value===i},e,{onClick:l}))}))}var T=n(576),q=n(318),D=n.n(q),N=n(371),_=n.n(N),F=n(304),U=n.n(F),L=n(325),G=n.n(L),B=n(374),K=n.n(B),H=n(320),J=n.n(H),Y=n(530),W=n.n(Y),Q=n(357),V=n.n(Q),X=n(535),Z=n.n(X),$=n(537),ee=n.n($),te=n(538),ne=n.n(te),re=n(536),ae=n.n(re),ce=n(532),oe=n.n(ce),ie=n(373),ue=n.n(ie),le=n(540),se=n.n(le),me=n(539),fe=n.n(me),de=(1+Math.sqrt(5))/2,pe=_()(W.a,[K.a,J.a]),ve=D()(Math.ceil,pe),ye=D()(function(e){return Math.round((Math.pow(de,e)-Math.pow(-de,-e))/(2*de-1))},ve,U()(function(e){return Math.round((t=de,n=Math.sqrt(5)*e,Math.log(n)/Math.log(t)));var t,n})),ge=G()("score"),be=oe()(V()(Z()(String),ae()("string"),ae()("number"))),he=ee()([[ne()("coffee"),ae()("Coffee break")],[ne()("question"),ae()("Unclear")],[ne()("\u221e"),ae()("Infinity")],[fe.a,ae()("Unclear")]]),Ee=V()(D()(se.a,ue()("string")),D()(ye,ue()("number")),D()(he,ue()("string"))),Oe=D()(Ee,be,ge),je=n(580),xe=[{title:"Player",dataIndex:"info.login",sorter:function(e,t){return e.info.login.localeCompare(t.info.login)}},{title:"Story Points",dataIndex:"score",defaultSortOrder:"ascend",sorter:function(e,t){return M(e.score,t.score)}}],Se=function(e){var t=e.players;return a.a.createElement("div",null,a.a.createElement(je.a,{dataSource:t,columns:xe,pagination:!1}))};function Ce(){var e=Object(r.useContext)(k),t=e.isRevealing,n=e.players,c=e.currentStory;return""!==c&&null!==c&&t?a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,null,"Average Score is ",Oe(n)),a.a.createElement(Se,{players:n})):null}var ke=n(575),we=n(592),Pe=n(105),Re=n(542),Ie=n.n(Re),Me=n(11),ze=n(577),Ae=function(e){var t=e.story,n=e.onSetEditMode,c=e.deleteStory,o=e.isAdmin,i=Object(r.useContext)(k),u=i.currentStory,l=i.actions,s=t.id===u,m=o?[s?null:a.a.createElement(Me.a,{type:"star",onClick:function(){return l.setStory(t.id)}}),s?null:a.a.createElement(ze.a,{title:"Are you sure you want to delete the story?",onConfirm:function(){return c(t.id)},placement:"topRight"},a.a.createElement(Me.a,{type:"delete"})),a.a.createElement(Me.a,{type:"edit",onClick:function(){return n(!0)}})].filter(Boolean):[];return a.a.createElement(we.a.Item,{actions:m,style:{backgroundColor:s?"#e6f7fe":"#fff",padding:".4rem"}},a.a.createElement(we.a.Item.Meta,{title:"".concat(t.title," ").concat(0!==t.score?" - ".concat(t.score," sp"):""),description:t.description}))},Te=n(581),qe=n(586),De=n(80),Ne=(n(326),n(278));function _e(e){var t=e.story,n=e.onUpdateStory,r=e.onSetEditMode,o=Object(Ne.a)(t.title||""),i=Object(c.a)(o,2),u=i[0],l=i[1],s=Object(Ne.a)(t.description||""),m=Object(c.a)(s,2),f=m[0],d=m[1];return a.a.createElement(Te.a,{onSubmit:function(e){e.preventDefault(),n({title:u,description:f}),r(!1)}},a.a.createElement("header",{className:"Stories-storyHeader"},a.a.createElement(qe.a,{placeholder:"title of the story",value:u,onChange:l})),a.a.createElement("div",{className:"Stories-storyDescription"},a.a.createElement(qe.a.TextArea,{placeholder:"Description",value:f,onChange:d})),a.a.createElement("footer",{className:"Stories-storyFooter"},a.a.createElement(De.a,{onClick:function(){return r(!1)}},"Cancel"),a.a.createElement(De.a,{htmlType:"submit",type:"primary"},"Save")))}var Fe=n(18),Ue=n.n(Fe),Le=n(44),Ge=n(588),Be=n(136),Ke=n(70),He=r.createContext({stories:[],actions:{addStories:function(){return Promise.resolve()},updateStory:function(){return Promise.resolve()},removeStory:function(){return Promise.resolve()}}}),Je=function(e){var t=e.children,n=e.gameId,a=r.useState([]),o=Object(c.a)(a,2),i=o[0],u=o[1];Object(Be.a)(Object(Le.a)(Ue.a.mark(function e(){var t,r;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.get("/api/game/".concat(n));case 2:t=e.sent,r=t.data,u(r.stories||[]);case 5:case"end":return e.stop()}},e,this)})),[n]);var l=function(e){u(function(t){return t.map(function(t){return t.id===e.id?Object(O.a)({},t,e):t})})},s=function(e){u(function(t){return t.filter(function(t){return t.id!==e})})},m=S({"add-story":function(e){var t=e.stories;u(function(e){return e.concat(t)})},"update-story":function(e){var t=e.story;l(t)},"remove-story":function(e){var t=e.id;s(t)}}),f=function(){var e=Object(Le.a)(Ue.a.mark(function e(t){var r,a,c;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.map(function(e){return Object(O.a)({description:"",active:!1,score:0},e)}),e.next=3,Ke.a.post("/api/story",{stories:r,gameId:n});case 3:a=e.sent,c=a.data,u(function(e){return e.concat(c)}),m("emit-add-story",{stories:c});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(Le.a)(Ue.a.mark(function e(t){var n,r;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.a.put("/api/story",t);case 2:n=e.sent,r=n.data,l(r),m("emit-update-story",{story:r});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(Le.a)(Ue.a.mark(function e(t){var n,r;return Ue.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke.a.delete("/api/story",{params:{storyId:t}});case 3:n=e.sent,r=n.data,s(r.id),m("emit-remove-story",r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Ge.a.error(e.t0.message);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}();return r.createElement(He.Provider,{value:{stories:i,actions:{addStories:f,updateStory:d,removeStory:p}}},t)},Ye=Object(ke.a)(function(e){var t=Object(r.useState)(!1),n=Object(c.a)(t,2),o=n[0],i=n[1],u=Object(r.useContext)(He).actions;return o?a.a.createElement(_e,Object.assign({},e,{onUpdateStory:function(t){u.updateStory(Object(O.a)({},e.story,t))},onSetEditMode:i})):a.a.createElement(Ae,{story:e.story,onSetEditMode:i,isAdmin:e.isAdmin,deleteStory:u.removeStory})}),We=n(0),Qe=n.n(We),Ve=(Qe.a.shape({id:Qe.a.number.isRequired,title:Qe.a.string.isRequired,description:Qe.a.string.isRequired,score:Qe.a.oneOfType([Qe.a.string,Qe.a.number]).isRequired}),n(585));function Xe(){var e=Object(o.a)(["\n    margin: 1rem 0;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(o.a)(["\n    display: flex;\n    flex-direction: column;\n"]);return Ze=function(){return e},e}function $e(){var e=Object(o.a)(["\n    width: 100%;\n"]);return $e=function(){return e},e}var et=Object(i.a)(Ve.a)($e()),tt=i.a.div(Ze()),nt=i.a.div(Xe()),rt=n(583),at=D()(K.a,G()("score")),ct=function(e){var t=e.game,n=e.stories,r=e.onClose,c=n.map(function(e,t){return Object(O.a)({},e,{key:t})});return a.a.createElement(rt.a,{visible:!0,title:'Report for "'.concat(t.title,'"'),footer:[a.a.createElement(De.a,{onClick:r,key:"ok-button"},"Ok")],onCancel:r,width:"800px"},a.a.createElement(je.a,{dataSource:c,columns:[{title:"Story Tile",dataIndex:"title",sorter:function(e,t){return e.title.localeCompare(t.title)}},{title:"Description",dataIndex:"description"},{title:"Story Points",dataIndex:"score",defaultSortOrder:"descend",sorter:function(e,t){return e.score-t.score}}],title:function(){return"Total Score ".concat(at(n))},footer:function(){return"Report generated By FreePlanningPoker"}}))},ot=n(113);var it=Object(ke.a)(function(e){var t=e.match.params,n=Object(r.useState)(!1),o=Object(c.a)(n,2),i=o[0],u=o[1],l=Object(r.useContext)(He).stories,s=Object(ot.c)(t.gameID);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Me.a,{type:"printer",onClick:function(){return u(!0)}}),i?a.a.createElement(ct,{game:s,stories:l,onClose:function(){return u(!1)}}):null)});function ut(){var e=Object(o.a)(["\n    height: 370px;\n    overflow: scroll;\n"]);return ut=function(){return e},e}var lt=Ie()(function(e){return 0===e.score}),st=Object(i.a)(we.a)(ut()),mt=function(e){var t=e.stories,n=e.admin;return 0===J()(t)?a.a.createElement("span",null,"No stories"):a.a.createElement(st,{itemLayout:"vertical",dataSource:t,renderItem:function(e){return a.a.createElement(Ye,{isAdmin:n,key:e.id,story:e})}})},ft=function(e){var t=e.stories,n=e.admin,r=lt(t),o=Object(c.a)(r,2),i=o[0],u=o[1];return a.a.createElement(et,{title:"Stories",extra:0===J()(i)?a.a.createElement(it,null):null},a.a.createElement(Pe.a,{defaultActiveKey:"1"},a.a.createElement(Pe.a.TabPane,{tab:"Remaining",key:"1"},a.a.createElement(mt,{stories:i,admin:n})),a.a.createElement(Pe.a.TabPane,{tab:"Played",key:"2"},a.a.createElement(mt,{stories:u,admin:n}))))},dt=n(356),pt=n.n(dt);function vt(e){var t=e.mode,n=e.toggleMode,r=e.isAdmin,o=e.handleSubmit,i=Object(Ne.a)(""),u=Object(c.a)(i,2),l=u[0],s=u[1];return r?a.a.createElement(nt,null,t?a.a.createElement(qe.a.TextArea,{placeholder:"Story title",value:l,onKeyPress:function(e){if(13===e.charCode){var r=U()(function(e){return{title:e}},pt()("\n",l));o(r),n(t),s()}},onChange:s}):a.a.createElement(De.a,{onClick:function(){return n(!t)}},"Add new Story")):null}var yt=Object(ke.a)(function(e){var t=e.admin,n=(e.match.params,Object(r.useState)(!1)),o=Object(c.a)(n,2),i=o[0],u=o[1],l=Object(r.useContext)(He),s=l.stories,m=l.actions;return a.a.createElement(tt,null,a.a.createElement(ft,{stories:s,admin:t}),a.a.createElement(vt,{handleSubmit:m.addStories,toggleMode:u,isAdmin:t,mode:i}))}),gt=n(578),bt=function(e){var t=e.history.replace,n=Object(Ne.a)(""),o=Object(c.a)(n,2),i=o[0],u=o[1],l=Object(r.useState)("male"),s=Object(c.a)(l,2),m=s[0],f=s[1],d=Object(r.useContext)(E.a).setTempUser;return a.a.createElement("div",null,a.a.createElement(rt.a,{visible:!0,title:"Sit a game in progress",onCancel:function(){return t("/")},onOk:function(e){e.preventDefault(),d(i,m)}},a.a.createElement(Te.a.Item,{label:"Login",labelCol:{span:6},wrapperCol:{span:14}},a.a.createElement(qe.a,{id:"login",name:"login",placeholder:"Your desired login",value:i,onChange:u})),a.a.createElement(Te.a.Item,{label:"Gender",labelCol:{span:6},wrapperCol:{span:14}},a.a.createElement(gt.a,{checked:"female"===m,onChange:function(e){return f(e?"female":"male")},checkedChildren:a.a.createElement(Me.a,{type:"man"}),unCheckedChildren:a.a.createElement(Me.a,{type:"woman"})}))))};function ht(){var e=Object(o.a)(["\n    position: absolute;\n    left: calc(50% + 2rem);\n    top: 0.5rem;\n    width: 2rem;\n    height: 2rem;\n    background-color: #52c41a;\n    color: #fff;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n"]);return ht=function(){return e},e}function Et(){var e=Object(o.a)(["\n    text-align: center;\n"]);return Et=function(){return e},e}function Ot(){var e=Object(o.a)(["\n    width: 6.6rem;\n    height: 6.6rem;\n    background-image: url(/assets/avatars.jpg);\n    background-position-y: ",";\n    background-position-x: ",";\n    background-size: 600px;\n"]);return Ot=function(){return e},e}function jt(){var e=Object(o.a)(["\n    width: 6.6rem;\n    height: 6.6rem;\n    background-image: url(",");\n    background-size: contain;\n    border-radius: 50%;\n"]);return jt=function(){return e},e}function xt(){var e=Object(o.a)(["\n    padding: 0.8rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: relative;\n"]);return xt=function(){return e},e}function St(){var e=Object(o.a)(["\n    list-style-type: none;\n    padding: 1rem;\n    background-color: #fff;\n    display: flex;\n    flex-wrap: wrap;\n"]);return St=function(){return e},e}var Ct=i.a.ul(St()),kt=i.a.li(xt()),wt=Object(i.a)("div")(jt(),function(e){return e.avatar}),Pt=Object(i.a)("div")(Ot(),function(e){var t=e.avatar;return"-".concat(55+130*Math.floor(t/6),"px")},function(e){var t=e.avatar;return"-".concat(15+(t+6)%6*95,"px")}),Rt=i.a.div(Et()),It=i.a.div(ht()),Mt=function(e){var t,n=e.user,a=r.useContext(k).isRevealing,c=n.info,o=c.picture,i=c.login;return r.createElement(kt,null,"number"===typeof o?r.createElement(Pt,{avatar:o}):r.createElement(wt,{avatar:o}),r.createElement(Rt,null,i),null!==n.score?r.createElement(It,null,(t=n.score,a?"number"===typeof t?t.toString():t[0]:"?")):null)},zt=function(){var e=r.useContext(k).players;return r.createElement(Ct,null,e.map(function(e,t){return r.createElement(Mt,{key:t,user:e})}))};function At(){var e=Object(o.a)(["\n    grid-row: 3 / span 1;\n"]);return At=function(){return e},e}function Tt(){var e=Object(o.a)(["\n    grid-row: 2 / span 1;\n"]);return Tt=function(){return e},e}function qt(){var e=Object(o.a)(["\n    grid-row: 2 / span 2;\n"]);return qt=function(){return e},e}function Dt(){var e=Object(o.a)(["\n    grid-column: 1 / span 2;\n"]);return Dt=function(){return e},e}function Nt(){var e=Object(o.a)(["\n    display: grid;\n    padding: 1rem;\n    width: 100%;\n    height: 100%;\n    grid-gap: 2rem;\n    grid-template-columns: 20rem 1fr;\n    grid-template-rows: 2rem max-content auto;\n"]);return Nt=function(){return e},e}var _t=i.a.section(Nt()),Ft=i.a.header(Dt()),Ut=i.a.section(qt()),Lt=i.a.section(Tt()),Gt=i.a.section(At()),Bt=n(572),Kt=n(589),Ht=n(593);function Jt(){var e=Object(o.a)([""]);return Jt=function(){return e},e}function Yt(){var e=Object(o.a)(["\n    display: flex;\n    justify-content: space-between;\n"]);return Yt=function(){return e},e}var Wt=i.a.div(Yt()),Qt=Object(i.a)(Ht.a)(Jt());function Vt(e){var t=e.onSendMessage,n=Object(Ne.a)(""),r=Object(c.a)(n,2),o=r[0],i=r[1],u=function(){""!==o&&(t(o),i())};return a.a.createElement(a.a.Fragment,null,a.a.createElement(T.a,null),a.a.createElement(Wt,null,a.a.createElement(qe.a,{name:"chat",onKeyPress:function(e){if(13===e.charCode)return u()},value:o,onChange:i}),a.a.createElement(De.a,{type:"primary",shape:"circle",icon:"enter",onClick:u,style:{flexShrink:0,marginLeft:"0.6rem"}})))}var Xt=n(571),Zt=n(579),$t=function(e){var t=e.user,n=e.message,r=e.style;return a.a.createElement(we.a.Item,{style:r},a.a.createElement(we.a.Item.Meta,{avatar:a.a.createElement(Zt.a,{src:t.picture}),title:t.name,description:n}))},en=function(e){var t=e.threads,n=function(e){var n=e.index,r=e.key,c=e.style;return a.a.createElement($t,Object.assign({},t[n],{key:r,style:c}))},r=function(e){var n=e.index,r=t[n].message.length;return 60+20*(Math.floor(r/50)+1)};return a.a.createElement("div",{style:{flexGrow:1}},a.a.createElement(Xt.a,null,function(e){var c=e.width,o=e.height;return a.a.createElement(Xt.b,{rowCount:t.length,width:c,height:o,rowHeight:r,rowRenderer:n,scrollToIndex:t.length-1})}))};function tn(){var e=Object(r.useContext)(E.a).user,t=Object(r.useState)([]),n=Object(c.a)(t,2),o=n[0],i=n[1],u=Object(r.useState)(!1),l=Object(c.a)(u,2),s=l[0],m=l[1],f=Object(r.useState)(o.length),d=Object(c.a)(f,2),p=d[0],v=d[1];s&&0!==p&&v(0);var y=function(e){i(function(t){return Object(Bt.a)(t).concat([e])})},g=S({"message-received":function(e){v(function(e){return e+1}),y(e)}});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Qt,{count:p},a.a.createElement(De.a,{onClick:function(){return m(!0)},type:"primary",shape:"circle",icon:"message",size:"large"})),a.a.createElement(Kt.a,{width:520,placement:"right",closable:!1,onClose:function(){return m(!1)},visible:s,mask:!0,style:{display:"flex",flexDirection:"column",height:"100%"}},a.a.createElement(en,{threads:o}),a.a.createElement(Vt,{onSendMessage:function(t){var n={user:e.info,message:t};y(n),g("send-message",n)}})))}function nn(){var e=Object(o.a)(["\n    position: fixed !important;\n    right: 2rem;\n    bottom: 2rem;\n    display: flex;\n    flex-direction: column;\n\n    & > * {\n        margin: 0.5rem 0rem !important;\n    }\n"]);return nn=function(){return e},e}var rn=Object(i.a)("div")(nn()),an=n(97),cn=function(){var e=Object(r.useContext)(k),t=e.currentStory,n=e.isRevealing,c=e.isCompleted,o=e.players,i=e.actions,u=Object(r.useContext)(He),l=u.actions,s=u.stories.find(function(e){return e.id===t}),m=""!==t&&null!==t,f=function(){return i.setStory(null)};return a.a.createElement(rn,null,m&&!c?a.a.createElement(an.a,{title:"Start the game round",placement:"left"},a.a.createElement(De.a,{onClick:i.startPlayRound,type:"primary",shape:"circle",icon:"play-circle",size:"large"})):null,c&&!n?a.a.createElement(an.a,{title:"Reveal user scores",placement:"left"},a.a.createElement(De.a,{onClick:i.showPlayedCards,type:"primary",shape:"circle",icon:"question-circle",size:"large"})):null,n?a.a.createElement(an.a,{title:"Set the final score",placement:"left"},a.a.createElement(De.a,{onClick:function(){s&&(l.updateStory(Object(O.a)({},s,{score:Oe(o)})),f())},type:"primary",shape:"circle",icon:"check-circle",size:"large"})):null,n?a.a.createElement(an.a,{title:"Play another round for the story",placement:"left"},a.a.createElement(De.a,{onClick:i.startPlayRound,type:"primary",shape:"circle",icon:"reload",size:"large"})):null,m?a.a.createElement(an.a,{title:"Reset the progress and pick another story",placement:"left"},a.a.createElement(De.a,{onClick:f,type:"danger",shape:"circle",icon:"close-circle",size:"large"})):null,a.a.createElement(tn,null))};n.d(t,"BoardContainer",function(){return on}),n.d(t,"default",function(){return un});var on=function(e){var t=e.match,n=Object(r.useContext)(E.a).user,c=Object(r.useContext)(k),o=c.isPlaying,i=c.actions,u=t.params.gameID,l=Object(ot.c)(u);Object(r.useEffect)(function(){return i.enterRoom({info:{login:n.info.name,picture:n.info.picture}}),i.leaveRoom},[]);var s=Object(E.d)(n,t.params.user);return l?a.a.createElement(Je,{gameId:u},a.a.createElement(_t,null,a.a.createElement(Ft,null,a.a.createElement("h2",null,l.title)),a.a.createElement(Ut,null,a.a.createElement(yt,{admin:s})),a.a.createElement(Lt,null,a.a.createElement(zt,null)),a.a.createElement(Gt,null,a.a.createElement(Ce,{admin:s}),o?a.a.createElement(A,null):null)),a.a.createElement(cn,null)):a.a.createElement("h1",null,"No game")};function un(e){var t=Object(r.useContext)(E.a).user,n=Object(E.d)(t,e.match.params.user);return[E.c.LOGGED_IN,E.c.TEMP_USER].includes(t.loginStatus)?a.a.createElement(P,{gameId:e.match.params.gameID,isAdmin:n},a.a.createElement(on,e)):a.a.createElement(bt,e)}}}]);
//# sourceMappingURL=3.b4082838.chunk.js.map